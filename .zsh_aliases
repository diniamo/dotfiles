alias dotfiles='/usr/bin/git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME'
dfcp() {
	dotfiles commit -am $1 && dotfiles pull && dotfiles push
}
dst() { dotfiles status }

alias paru='yay'
alias spkg='unbuffer yay -Q | grep'
alias listxwl="hyprctl -j clients | jq -r '.[] | select( [ .xwayland == true ] | any ) | .title' | awk 'NF'"

alias btw='neofetch'

# This fixes sudo usage with aliases
alias sudo='sudo '

eval $(thefuck --alias)

alias v='nvim'

lf() {
    tmp=$(mktemp)
    lfrun -last-dir-path "$tmp" "$@"
    dir="$(cat "$tmp")"
    if [ "$dir" != "$PWD" ]; then
        cd "$dir"
    fi
}
alias joshuto='joshutorun'

alias ls='exa --icons'
alias ll='exa --icons --git -lha'
alias lt='exa --icons -T'
alias la='exa --icons -a'

# Create a file with execute perms
alias xtouch='install /dev/null'

alias pls='sudo  $(fc -ln -1)'
alias please='sudo bash -c "$(fc -ln -1)"'

alias icat='kitten icat'
alias drop='dragon-drop -a -x'

alias rm='rmtrash'
alias rmdir='rmdirtrash'
alias rmd='/usr/sbin/rm'

alias hash='sha256sum'
alias copy='wl-copy'
alias paste='wl-paste'

alias windows='sudo grub-reboot 2 && sudo reboot'

alias def="trans -d"
alias defd="dict"
alias udef="udict"
alias say="trans -no-translate -speak"
alias hun="trans :hu"
alias eng="trans :en"
alias deu="trans :de"

# Suffix aliases
alias -s git="git clone"
alias -s py="python"

..() {
    if [ -z "$1" ]; then
        cd ..
    else
        cd `awk "BEGIN {while (c++<$1) printf \"../\"}"`
    fi
}

mcd () {
	[ -d $1 ] || mkdir -p $1
	cd $1 && pwd
}

locedit() {
    locate $@ | fzf | xargs nvim
}

upload() {
    if [ $# -eq 0 ]; then
        echo "No arguments specified.\nUsage:\n  transfer <file|directory>\n  ... | transfer <file_name>" >&2
        return 1
    fi

    if tty -s; then
        file="$1"
        file_name=$(basename "$file")
        if [ ! -e "$file" ]; then
            echo "$file: No such file or directory" >&2
            return 1
        fi

        if [ -d "$file" ]; then
            file_name="$file_name.zip"
            cd "$file" && zip -r -q - . | curl --progress-bar --upload-file "-" "https://transfer.sh/$file_name" | tee /dev/null
        else
            cat "$file" | curl --progress-bar --upload-file "-" "https://transfer.sh/$file_name" | tee /dev/null
        fi
    else
        file_name=$1
        curl --progress-bar --upload-file "-" "https://transfer.sh/$file_name" | tee /dev/null
    fi
}
